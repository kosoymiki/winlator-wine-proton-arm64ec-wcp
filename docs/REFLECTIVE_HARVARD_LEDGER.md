# Reflective Harvard Ledger

This ledger is mandatory for the Magnum Opus integration track.  
Every logical stage must include explicit hypothesis, evidence, and validation.

## How to use

For each stage/patch set, add one row with concrete links to commits, logs, and files.
Do not leave placeholder text in completed rows.

## Record Template

| Stage | Scope | Hypothesis | Evidence | Counter-evidence | Decision | Impact | Verification | Owner | Date (UTC) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| `A1` | `runtime-contract` | Runtime plan unification lowers launch variance | `logcat bundle`, `forensics manifest` | One container still hangs on first launch | `rework` | Keep preflight hard gate, postpone profile auto-switch | `forensic-adb-complete-matrix.sh` + cold start x10 | `Ae.solator` | `2026-02-25` |
| `B3` | `translator-profile-migration` | Runtime profile-driven fallback from legacy presets reduces drift between requested and effective launch env | `ci/winlator/patches/0001-mainline-full-stack-consolidated.patch`, `docs/UNIFIED_RUNTIME_CONTRACT.md` | Risk of overriding intentionally old presets if migration is too aggressive | `accept` | Legacy defaults are mapped only for explicit non-`AUTO` runtime profiles; forensic now records requested/effective presets | `ci/winlator/check-patch-stack.sh` (43 patches) | `Ae.solator` | `2026-02-25` |
| `C1` | `gamenative-apk-runtime-matrix` | Correct focus prefixes for GN 0.7.2 expose actionable launch/graphics/runtime transfer signals for `pre-0044` | `/home/mikhail/gamenative-v0.7.2_reverse_20260225_143304/focus/focus_summary.txt`, `docs/GAMENATIVE_072_RUNTIME_TRANSFER_MATRIX.md`, `ci/research/extract-apk-runtime-focus.py`, `ci/research/build-gamenative-runtime-transfer-report.py` | Initial extraction with legacy-only prefixes (`Lcom/winemu/`, `Lcom/xj/winemu/`) produced zero focus classes/methods and invalid matrix | `accept` | Focus capture now includes `Lcom/winlator/` + `Lapp/gamenative/`; matrix quantifies launch (`630`), graphics (`366`), registry (`37`) and translator (`213`) method surfaces for targeted 0044 queue work | `ci/research/extract-apk-runtime-focus.py --apk /home/mikhail/gamenative-v0.7.2.apk`, `ci/research/build-gamenative-runtime-transfer-report.py` | `Ae.solator` | `2026-02-25` |
| `C2` | `gn-gh-patch-crosswalk` | Function-level crosswalk can identify safe patch merges between GameNative and GameHub without violating external-only policy | `docs/GAMENATIVE_072_RUNTIME_TRANSFER_MATRIX.md`, `docs/GAMEHUB_RUNTIME_TRANSFER_MATRIX.md`, `docs/GN_GH_PATCH_CROSSWALK.md`, `ci/research/build-gn-gh-patch-crosswalk.py` | Raw module overlap is noisy if token filters are too broad (false positives from generic UI/content names) | `accept` | Defined merge queue by shared behavior (`0044` launch, `0045` graphics, `0046` registry) and kept content/UI layers as research-only | `ci/research/build-gamehub-runtime-transfer-report.py`, `ci/research/build-gn-gh-patch-crosswalk.py` | `Ae.solator` | `2026-02-25` |
| `C3` | `launch-urc-bridge-0044` | A strict launch precheck bridge between activity and launcher can reduce route/shortcut drift crashes while preserving external-only runtime policy | `ci/winlator/patches/0001-mainline-full-stack-consolidated.patch`, `docs/GN_GH_PATCH_CROSSWALK.md` | Full Gradle compile in sandbox was blocked by environment limits (`SDK location` then Gradle daemon socket restrictions/download task), so runtime compile proof remains CI-only | `accept` | Added reason-coded launch precheck (`route/kind/target/reason/shell_fallback`) in `XServerDisplayActivity` + `GuestProgramLauncherComponent`, deterministic `wfm.exe` fallback for missing shortcut/empty command, and `WINLATOR_RUNTIME_PRESET_GUARD_REASON` forensic/env contract | `ci/winlator/check-patch-stack.sh` (44 patches, apply-pass), next verification in GitHub CI + adb forensic runs | `Ae.solator` | `2026-02-25` |
| `D1` | `bionic-donor-contract-hardening` | Preflight SHA/ABI verification of donor archives plus strict unix-ABI forensic checks will remove silent `glibc-unix` drift in mainline `bionic-native` packages | `ci/lib/winlator-runtime.sh`, `ci/lib/wcp_common.sh`, `ci/runtime-sources/bionic-source-map.json`, `ci/validation/check-urc-mainline-policy.sh`, `ci/validation/inspect-wcp-runtime-contract.sh` | Additional preflight and inspection logic can fail fast on donor/source-map mistakes and requires maintained SHA pins in workflows | `accept` | Mainline now enforces donor URL+SHA contract, caches/inspects donor archives, persists resolved donor hashes in forensic manifests, and hard-fails if strict bionic build retains `glibc-unix` modules | `bash ci/validation/check-urc-mainline-policy.sh`, `bash ci/validation/inspect-wcp-runtime-contract.sh <wcp> --strict-bionic`, package workflow preflight + inspection steps | `Ae.solator` | `2026-02-25` |
| `D2` | `runtime-forensic-mismatch-matrix` | Enforcing branch/time-bounded CI failure parsing plus scenario-level runtime mismatch matrix will reduce false triage and speed startup-hang root cause detection | `ci/validation/gh-latest-failures.sh`, `ci/winlator/forensic-adb-runtime-contract.sh`, `ci/winlator/forensic-runtime-mismatch-matrix.py`, `docs/CI_FAILURE_PLAYBOOK.md`, `README.md` | Runtime class / signal markers may still be absent in some device logs, so mismatch rows can contain `-` placeholders and require manual confirmation | `accept` | Added fresh-failure filtering (`branch + since_hours`) and a deterministic adb forensic pipeline that emits baseline-compared mismatch TSV/MD for `wine11/protonwine10/steven104` scenarios | `bash ci/validation/gh-latest-failures.sh 20 main 24`, `python3 ci/winlator/forensic-runtime-mismatch-matrix.py --help`, `bash -n ci/winlator/forensic-adb-runtime-contract.sh` | `Ae.solator` | `2026-02-26` |
| `D3` | `active-failure-triage-and-mismatch-severity` | Selecting only workflows whose latest run is failed and classifying runtime mismatch severity will cut stale-noise triage and prioritize actionable runtime drifts | `ci/validation/gh-latest-failures.sh`, `ci/winlator/forensic-runtime-mismatch-matrix.py`, `ci/winlator/forensic-adb-runtime-contract.sh`, `docs/CI_FAILURE_PLAYBOOK.md` | If GH run-list window is too small, a workflow may be missed; if device logs are sparse, severity defaults may require manual review | `accept` | Added active-failure workflow selection (latest-run status aware), mismatch status/severity/focus columns, and optional hard-fail mode (`WLT_FAIL_ON_MISMATCH=1`) for automated forensic gates | `bash ci/validation/gh-latest-failures.sh 5 main 24`, `python3 ci/winlator/forensic-runtime-mismatch-matrix.py --help`, `bash -n ci/winlator/forensic-adb-runtime-contract.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-26` |
| `D4` | `critical-workflow-health-gate` | A dedicated mainline health command for critical workflows (`wine/protonge/protonwine/winlator`) reduces ambiguity before forensic deep-dives and prevents chasing already-fixed historical failures | `ci/validation/gh-mainline-health.sh`, `docs/CI_FAILURE_PLAYBOOK.md`, `docs/README.md`, `README.md` | Health check depends on GitHub API visibility window; if GH returns partial history, a workflow may be marked stale/missing and require rerun with wider limits | `accept` | Added explicit health snapshot/gate for the four critical workflows with `fresh + success` contract and fail-fast behavior (`WLT_REQUIRE_SUCCESS=1`) | `bash ci/validation/gh-mainline-health.sh`, `bash ci/validation/gh-mainline-health.sh main 24`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-26` |
| `D5` | `forensic-matrix-json-contract` | Emitting JSON for runtime mismatch matrix will enable machine-safe downstream analysis without reparsing markdown/tsv tables | `ci/winlator/forensic-runtime-mismatch-matrix.py`, `docs/CI_FAILURE_PLAYBOOK.md` | JSON and TSV/MD can diverge if fields are not sourced from the same row model; requires strict single-source generation | `accept` | Added `runtime-mismatch-matrix.json` output from the same row payload used by TSV/MD, preserving baseline metadata and status/severity/focus fields for automation | `python3 -m py_compile ci/winlator/forensic-runtime-mismatch-matrix.py`, `python3 ci/winlator/forensic-runtime-mismatch-matrix.py --help`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-26` |
| `D6` | `forensic-matrix-summary-counters` | Writing a deterministic summary counter file from mismatch rows will speed triage dashboards and reduce parsing complexity for automation | `ci/winlator/forensic-runtime-mismatch-matrix.py`, `docs/CI_FAILURE_PLAYBOOK.md` | Summary counters can become misleading if row status classification drifts; requires keeping status derivation and summary in same script | `accept` | Added `runtime-mismatch-matrix.summary.txt` with baseline, scenario count, status/severity distributions, and mismatch totals generated from the same in-memory rows used for TSV/MD/JSON outputs | `python3 -m py_compile ci/winlator/forensic-runtime-mismatch-matrix.py`, `python3 ci/winlator/forensic-runtime-mismatch-matrix.py --help`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-26` |
| `D7` | `runtime-orchestrator-summary-echo` | Printing summary counters directly at the end of adb runtime orchestration will reduce turnaround time when comparing container runs interactively | `ci/winlator/forensic-adb-runtime-contract.sh` | Console summary can hide full details if operators skip artifact files; still requires TSV/JSON inspection for deep diagnosis | `accept` | Added end-of-run summary echo from `runtime-mismatch-matrix.summary.txt` to make mismatch status visible immediately without opening output files | `bash -n ci/winlator/forensic-adb-runtime-contract.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-26` |
| `D8` | `runtime-matrix-selftest-gate` | A deterministic local selftest for mismatch classification and fail-on-mismatch exit code will prevent silent regressions in forensic triage automation | `ci/winlator/selftest-runtime-mismatch-matrix.sh`, `ci/validation/check-urc-mainline-policy.sh`, `docs/CI_FAILURE_PLAYBOOK.md`, `AGENTS.md` | Synthetic fixture may not cover all real-device log variants; still requires periodic validation against live adb captures | `accept` | Added selftest script with fixture scenarios (`baseline`, `hang_after_submit`, `runtime_class_mismatch`), integrated it into URC policy gate, and documented it in ops docs/agent validation matrix | `bash ci/winlator/selftest-runtime-mismatch-matrix.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-26` |
| `D9` | `adb-scenario-spec-hardening` | Strict validation of `WLT_SCENARIOS` format and deterministic label sanitization will prevent silent artifact-path corruption and ambiguous scenario mapping in adb forensic captures | `ci/winlator/forensic-adb-complete-matrix.sh`, `docs/CI_FAILURE_PLAYBOOK.md` | Label sanitization can collapse distinct labels into the same safe name; now explicitly guarded with duplicate-detection fail-fast | `accept` | Added fail-fast checks for malformed specs (`label:containerId`), numeric container-id enforcement, safe-label normalization, duplicate safe-label detection, and explicit `safe_label` trace in scenario metadata | `bash -n ci/winlator/forensic-adb-complete-matrix.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-26` |
| `D10` | `mainline-health-export-contract` | Exporting critical workflow health snapshots as TSV/JSON will allow machine-driven gating/reporting without scraping console table output | `ci/validation/gh-mainline-health.sh`, `docs/CI_FAILURE_PLAYBOOK.md`, `docs/README.md` | Snapshot export can be stale if reused across sessions; operators must treat output as point-in-time and re-run before decisions | `accept` | Added optional `WLT_HEALTH_OUTPUT_PREFIX` output contract (`.tsv` + `.json`) while preserving fail-fast `fresh + success` gate behavior | `WLT_HEALTH_OUTPUT_PREFIX=/tmp/mainline-health bash ci/validation/gh-mainline-health.sh main 24`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-26` |
| `D11` | `active-failures-export-contract` | Exporting the selected active-failure workflow set to machine-readable files will make triage snapshots reproducible and scriptable | `ci/validation/gh-latest-failures.sh`, `docs/CI_FAILURE_PLAYBOOK.md`, `docs/README.md` | Export files can capture a transient zero-failure window and be misread later without timestamp/context; metadata includes branch/window/count to mitigate ambiguity | `accept` | Added optional `WLT_FAILURES_OUTPUT_PREFIX` contract that writes `.tsv` + `.meta` for active-failure selection while preserving existing log extraction flow | `WLT_FAILURES_OUTPUT_PREFIX=/tmp/gh-active-failures bash ci/validation/gh-latest-failures.sh 20 main 24`, `bash -n ci/validation/gh-latest-failures.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-26` |
| `D12` | `one-shot-mainline-forensic-snapshot` | A single command to capture health, active failures, URC status, and git metadata will reduce operator drift during rapid triage loops | `ci/validation/collect-mainline-forensic-snapshot.sh`, `ci/validation/gh-mainline-health.sh`, `ci/validation/gh-latest-failures.sh`, `ci/validation/check-urc-mainline-policy.sh`, `docs/CI_FAILURE_PLAYBOOK.md` | Initial active-failures implementation passed large JSON via env and hit `Argument list too long`; switched to temp-file handoff for robust large-window operation | `accept` | Added snapshot orchestrator and stabilized active-failures parser input path; snapshot now reliably emits consolidated logs/artifacts and status metadata for triage handoff | `WLT_SNAPSHOT_DIR=/tmp/mainline-forensic-snapshot bash ci/validation/collect-mainline-forensic-snapshot.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D13` | `runtime-matrix-patch-routing` | Adding a deterministic `patch_hint` column and explicit `runtime_guard_blocked` classification will shorten the path from log drift to concrete code fix files | `ci/winlator/forensic-runtime-mismatch-matrix.py`, `ci/winlator/selftest-runtime-mismatch-matrix.sh`, `docs/CI_FAILURE_PLAYBOOK.md`, `docs/README.md` | Hints can drift if file ownership changes; selftest now validates status/severity/hint tuple to catch stale routing strings early | `accept` | Runtime mismatch outputs now include file-level patch routing for each classified failure and detect explicit runtime guard blocks before generic mismatch handling | `bash ci/winlator/selftest-runtime-mismatch-matrix.sh`, `python3 -m py_compile ci/winlator/forensic-runtime-mismatch-matrix.py`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D14` | `runtime-orchestrator-actionable-echo` | Printing concise actionable drift rows directly after matrix generation will reduce time-to-fix during live adb sessions | `ci/winlator/forensic-adb-runtime-contract.sh`, `docs/CI_FAILURE_PLAYBOOK.md` | Console-only output can be missed in long terminal sessions; full matrix artifacts remain the source of truth and include the same data | `accept` | `forensic-adb-runtime-contract.sh` now emits per-row `status|severity|label|patch_hint|mismatch_keys` lines for all non-baseline drifts immediately after summary output | `bash -n ci/winlator/forensic-adb-runtime-contract.sh`, `bash ci/winlator/selftest-runtime-mismatch-matrix.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D15` | `gh-health-large-payload-hardening` | Moving `gh run list` payload transfer from env var to temp-file handoff prevents shell/env-size failures during high-volume run history windows | `ci/validation/gh-mainline-health.sh` | Introduces temporary file lifecycle complexity; mitigated with `trap` cleanup and explicit UTF-8 read path in Python | `accept` | `gh-mainline-health.sh` now writes run JSON to temp file and parses it from Python arguments, matching hardened failure-parser pattern and reducing payload fragility | `bash -n ci/validation/gh-mainline-health.sh`, `bash ci/validation/gh-mainline-health.sh main 24`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D16` | `active-failure-tempfile-cleanup` | Adding explicit temp-file lifecycle handling in active-failure triage prevents stale `/tmp` growth and keeps repeated automation runs deterministic | `ci/validation/gh-latest-failures.sh` | Cleanup logic can mask earlier parser failures if trap handling is wrong; validated by preserving fail-fast behavior and explicit post-parse `trap - EXIT` | `accept` | `gh-latest-failures.sh` now registers a cleanup trap for its temporary run-list JSON and releases the trap after successful parse handoff | `bash -n ci/validation/gh-latest-failures.sh`, `bash ci/validation/gh-latest-failures.sh 5 main 24`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D17` | `urc-policy-feature-lock` | URC policy should explicitly assert new forensic routing capabilities so future edits cannot silently remove actionable triage fields | `ci/validation/check-urc-mainline-policy.sh`, `ci/winlator/forensic-runtime-mismatch-matrix.py`, `ci/winlator/forensic-adb-runtime-contract.sh` | Pattern-based checks can pass on stale strings if semantics diverge; mitigated by retaining runtime selftest execution in the same gate | `accept` | Added URC checks for `patch_hint`, `runtime_guard_blocked`, and actionable drift echo contract in forensic orchestrator | `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D18` | `run-scoped-root-cause-triage` | A dedicated run-level triage command should reduce diagnosis latency by extracting failed-job root causes for one run without manual GH job hopping | `ci/validation/gh-run-root-cause.sh`, `ci/validation/extract-gh-job-failures.sh`, `docs/CI_FAILURE_PLAYBOOK.md`, `docs/README.md` | Per-run triage artifacts can be verbose; summary TSV is added to keep routing concise while preserving full job analyses for deep follow-up | `accept` | Added run-id/url triage command producing failed-job inventory, per-job analyses, and `root-cause-summary.tsv`; wired into docs and URC policy file/executable checks | `bash -n ci/validation/gh-run-root-cause.sh`, `bash ci/validation/gh-run-root-cause.sh 22455358438`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D19` | `snapshot-active-run-deep-triage` | Enabling optional per-run triage inside the one-shot snapshot command should produce complete forensic bundles in a single invocation during active incident windows | `ci/validation/collect-mainline-forensic-snapshot.sh`, `ci/validation/gh-run-root-cause.sh`, `docs/CI_FAILURE_PLAYBOOK.md`, `ci/validation/check-urc-mainline-policy.sh` | Full triage can increase GH API usage/time; feature is opt-in (`WLT_TRIAGE_ACTIVE_RUNS=1`) and bounded by `WLT_TRIAGE_MAX_RUNS/WLT_TRIAGE_MAX_JOBS` | `accept` | Snapshot flow now supports optional deep triage of active failed runs and records `triage_rc` in status metadata for strict pass/fail accounting | `bash -n ci/validation/collect-mainline-forensic-snapshot.sh`, `WLT_TRIAGE_ACTIVE_RUNS=1 bash ci/validation/collect-mainline-forensic-snapshot.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D20` | `gh-prefixed-log-marker-normalization` | Root-cause extraction must handle `gh run view --job --log` prefixed log format to avoid false `no_explicit_marker` outcomes on failed runs | `ci/validation/extract-gh-job-failures.sh`, `ci/validation/gh-run-root-cause.sh` | Broader marker regex can capture noisy non-fatal lines; mitigated by prioritizing hard markers (`##[error]`, `Process completed with exit code`, compiler `error:`) and summary normalization | `accept` | Updated failure marker regexes for GH-prefixed logs and normalized root-cause summary fields to stable single-line TSV entries | `bash -n ci/validation/extract-gh-job-failures.sh`, `bash ci/validation/gh-run-root-cause.sh 22446750044 1`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D21` | `severity-threshold-runtime-gate` | Runtime mismatch output should include deterministic severity ranking and threshold-based fail mode to enable strict CI/adb forensic gates | `ci/winlator/forensic-runtime-mismatch-matrix.py`, `ci/winlator/forensic-adb-runtime-contract.sh`, `ci/winlator/selftest-runtime-mismatch-matrix.sh`, `docs/CI_FAILURE_PLAYBOOK.md` | Over-aggressive thresholds can fail exploratory runs; default remains `off` and threshold mode is explicit via env/CLI | `accept` | Added `severity_rank` field to matrix outputs and `--fail-on-severity-at-or-above`/`WLT_FAIL_ON_SEVERITY_AT_OR_ABOVE` threshold contract with selftest coverage | `python3 -m py_compile ci/winlator/forensic-runtime-mismatch-matrix.py`, `bash ci/winlator/selftest-runtime-mismatch-matrix.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D22` | `active-failure-auto-run-triage` | `gh-latest-failures` should optionally trigger per-run root-cause triage to reduce manual investigation loops during active incident windows | `ci/validation/gh-latest-failures.sh`, `ci/validation/gh-run-root-cause.sh`, `docs/CI_FAILURE_PLAYBOOK.md` | Auto-triage can increase GH API usage; bounded by `WLT_AUTO_TRIAGE_MAX_RUNS/WLT_AUTO_TRIAGE_MAX_JOBS` and disabled by default | `accept` | Added opt-in auto-triage env contract in `gh-latest-failures.sh` with bounded execution and explicit artifact path reporting | `bash -n ci/validation/gh-latest-failures.sh`, `WLT_AUTO_TRIAGE_FAILED_RUNS=1 bash ci/validation/gh-latest-failures.sh 5 main 24`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D23` | `root-cause-category-json-contract` | Run triage should emit machine-readable root-cause categories plus first hard marker line for deterministic patch routing automation | `ci/validation/gh-run-root-cause.sh`, `docs/CI_FAILURE_PLAYBOOK.md` | Category heuristics can misclassify edge logs; mitigated by preserving raw analysis files and `first_hard_marker_line` traceability | `accept` | Added `category` and `first_hard_marker_line` to TSV and new `root-cause-summary.json` output contract | `bash ci/validation/gh-run-root-cause.sh 22446750044 1`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D24` | `gamenative-proton104-reverse-contract` | A reproducible WCP reverse tool plus side-by-side compare against installed local package will turn one-off manual archive checks into stable runtime-contract evidence for patch routing | `ci/research/reverse-wcp-package.py`, `docs/GAMENATIVE_PROTON104_WCP_REVERSE.md`, `docs/GAMENATIVE_PROTON104_WCP_REVERSE.json`, `docs/GAMENATIVE_PROTON_10_4_WCP_BASELINE_ANALYSIS.md` | Export-level diffs include patchset drift and are not automatically correctness failures; routing still requires targeted fix decisions per mismatch class | `accept` | Added scriptable reverse pipeline for archive/directory inputs (ELF/PE/exports/markers/runtime class), corrected attribution to GameNative 10.4 baseline, and captured live compare vs installed `Wine 11` package | `python3 ci/research/reverse-wcp-package.py --input <gamenative-10.4.wcp.xz> --compare <wine11-dir>`, `bash ci/validation/check-urc-mainline-policy.sh`, `bash ci/winlator/run-reflective-audits.sh` | `Ae.solator` | `2026-02-27` |
| `D25` | `gamenative-baseline-symbol-gate` | Optional strict symbol gate in artifact inspector should detect regressions against GameNative Proton 10.4 core startup/input exports before runtime testing | `ci/validation/inspect-wcp-runtime-contract.sh`, `docs/UNIFIED_RUNTIME_CONTRACT.md`, `docs/PROTON10_WCP.md`, `ci/validation/check-urc-mainline-policy.sh` | Initial implementation produced false negatives due `pipefail` + `grep -q` early pipe-close behavior on large export streams; fixed by buffering export dump before match check | `accept` | Added `--strict-gamenative` mode validating required exports in `ntdll.dll`, `wow64.dll`, and `win32u.dll`; wired docs/policy checks and validated against GameNative 10.4 reference archive | `bash ci/validation/inspect-wcp-runtime-contract.sh <gamenative-10.4.wcp.xz> --strict-gamenative`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D26` | `workflow-baseline-reverse-diff` | Every WCP workflow should publish an automated binary-level delta against pinned GameNative 10.4 baseline to accelerate post-build runtime triage | `ci/validation/reverse-compare-gamenative-baseline.sh`, `.github/workflows/ci-arm64ec-wine.yml`, `.github/workflows/ci-proton-ge10-wcp.yml`, `.github/workflows/ci-protonwine10-wcp.yml`, `docs/CI_FAILURE_PLAYBOOK.md` | Baseline download path can break due network/GitHub rate issues; script supports local path override and bounded retries to reduce fragility | `accept` | Added workflow stage that emits `gamenative-baseline-reverse.{md,json}` for every built package, integrated into URC policy checks and playbook routing | `bash ci/validation/reverse-compare-gamenative-baseline.sh <target.wcp> <out-dir>`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D27` | `baseline-label-normalization-gamenative104` | Forensic/scenario defaults should use neutral `gamenative104` label (not legacy `steven104`) while preserving backward compatibility | `ci/winlator/artifact-source-map.json`, `ci/winlator/forensic-*.sh`, `ci/winlator/forensic-runtime-mismatch-matrix.py`, `ci/winlator/selftest-runtime-mismatch-matrix.sh`, `docs/ADB_HARVARD_DEVICE_FORENSICS.md` | Existing local scripts may still pass `steven104`; handled by alias fallback in mismatch matrix and source-map alias entry | `accept` | Renamed defaults to `gamenative104`, kept legacy alias in source map, and added baseline-label alias resolution to avoid breaking older forensic runs | `bash ci/winlator/selftest-runtime-mismatch-matrix.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-27` |
| `D28` | `bionic-donor-repin-and-runpath-gate` | Re-pinning bionic donor sources to GameNative Proton 10.4 and enabling strict termux runpath gate in all WCP workflows should eliminate `com.winlator.cmod` runpath drift and keep packages aligned with bionic-native baseline behavior | `ci/runtime-sources/bionic-source-map.json`, `.github/workflows/ci-arm64ec-wine.yml`, `.github/workflows/ci-protonwine10-wcp.yml`, `.github/workflows/ci-proton-ge10-wcp.yml`, `docs/GAMENATIVE_PROTON104_WCP_REVERSE.md` | Donor availability now depends on GameNative release asset uptime; mitigated by pinned SHA and existing baseline override env in reverse compare tooling | `accept` | All mainline packages now source bionic launcher/unix donor from pinned GameNative 10.4 archive and fail CI when launcher runpath deviates from `/data/data/com.termux/files/usr/lib` | `bash ci/validation/check-urc-mainline-policy.sh`, `bash ci/validation/inspect-wcp-runtime-contract.sh <artifact.wcp> --strict-bionic --strict-gamenative` | `Ae.solator` | `2026-02-27` |
| `D29` | `strict-bionic-implies-strict-runpath` | Local strict-bionic inspections should default to strict termux runpath contract when operator does not explicitly set runpath env to prevent false-pass drift checks | `ci/validation/inspect-wcp-runtime-contract.sh`, `docs/PROTON10_WCP.md`, `docs/CI_FAILURE_PLAYBOOK.md` | Non-mainline experiments with alternate runpath now require explicit override (`WCP_STRICT_RUNPATH_CONTRACT`/`WCP_RUNPATH_ACCEPT_REGEX`) to avoid expected-failure noise | `accept` | `--strict-bionic` now auto-enables strict runpath gate to `/data/data/com.termux/files/usr/lib` unless operator sets runpath env explicitly; CI/docs aligned with this behavior | `bash ci/validation/check-urc-mainline-policy.sh`, `bash -n ci/validation/inspect-wcp-runtime-contract.sh` | `Ae.solator` | `2026-02-27` |
| `D30` | `asset-overlay-import-fold-contract` | Ae.solator safezone/allskins overlay imports should be reproducible and idempotent across folded patch-base cycles | `ci/winlator/import-aesolator-assets.sh`, `ci/winlator/patches/README.md`, `ci/winlator/patch-batch-plan.tsv` | Re-import with identical zip previously failed with empty-slice error and blocked flow continuity | `accept` | Added import helper (`validate-only`, `slice|fold` modes), empty-delta success handling, and normalized phase windows around folded mainline | `bash ci/winlator/import-aesolator-assets.sh <zip> <src>`, `bash ci/winlator/validate-patch-sequence.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-28` |
| `D31` | `reflective-audit-strictness-decoupling` | Reflective audit generation should default to report mode and reserve strict exits for explicit gate runs | `ci/winlator/run-reflective-audits.sh`, `ci/validation/check-urc-mainline-policy.sh` | Strict-by-default audit execution returned non-zero on non-blocking mismatch rows and interrupted routine patch-base flows | `accept` | Added `WLT_REFLECTIVE_AUDIT_STRICT` opt-in switch; default report generation no longer hard-fails while URC retains gate enforcement | `bash ci/winlator/run-reflective-audits.sh`, `WLT_REFLECTIVE_AUDIT_STRICT=1 bash ci/winlator/run-reflective-audits.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-28` |
| `D32` | `online-commit-scan-gh-api-contract` | Commit-level marker scan without cloning should reduce intake latency and improve upstream drift visibility | `ci/reverse/online_commit_scan.py`, `ci/reverse/online-commit-scan.sh`, `ci/reverse/run-high-priority-cycle.sh`, `docs/reverse/ONLINE_INTAKE_WORKFLOW.md` | API-driven commit scan can miss deep marker context from unchanged files and depends on GH API availability/rate limits | `accept` | Added profile-based commit scan (`core|all|custom`), integrated into high-cycle/final-stage gates, and persisted `commit-scan.{json,md}` artifacts | `ONLINE_COMMIT_SCAN_PROFILE=core bash ci/reverse/online-commit-scan.sh`, `WLT_HIGH_CYCLE_RUN_COMMIT_SCAN=1 bash ci/reverse/run-high-priority-cycle.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-28` |
| `D33` | `online-backlog-focus-plus-commit-merge` | Intake backlog should merge file-focus evidence and commit-scan evidence to avoid blind spots in marker pressure | `ci/reverse/generate-online-backlog.py`, `ci/reverse/online-intake.sh`, `docs/reverse/ONLINE_INTAKE_WORKFLOW.md` | Merged evidence can over-count noisy markers unless deduplicated by `(marker, repo, sha/message/path)` keys | `accept` | Backlog rows now include `focus_hits/commit_hits`, source-tagged evidence (`focus|commit_scan`), and metadata (`commit_scan_used`, `commit_scan_errors`) | `ONLINE_INCLUDE_COMMIT_SCAN=1 bash ci/reverse/online-intake.sh`, `python3 -m py_compile ci/reverse/generate-online-backlog.py`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-28` |
| `D34` | `harvest-resilience-and-branch-pin-sync` | Long-running harvest cycles should survive per-repo errors while still producing actionable sync telemetry | `ci/reverse/harvest_transfer.py`, `ci/reverse/harvest-transfer.sh`, `ci/reverse/run-high-priority-cycle.sh`, `ci/reverse/sync-repo-branches-from-harvest.py` | Continuing on repo errors can hide systemic failures unless reports expose `repo_errors/status` clearly | `accept` | Added `HARVEST_TRANSFER_FAIL_ON_REPO_ERRORS` contract, branch-pin auto-sync from harvest report, and surfaced harvest counters in high-cycle logs | `HARVEST_TRANSFER_FAIL_ON_REPO_ERRORS=0 bash ci/reverse/harvest-transfer.sh`, `bash ci/reverse/run-high-priority-cycle.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-28` |
| `D35` | `online-intake-orchestrator-unification` | `online-intake.sh` should orchestrate commit-scan + harvest + snapshot audit in one deterministic flow to reduce operator drift | `ci/reverse/online-intake.sh`, `ci/validation/collect-mainline-forensic-snapshot.sh`, `ci/validation/prepare-release-patch-base.sh`, `ci/validation/run-final-stage-gates.sh` | Auto-refresh paths can duplicate scans in outer gates if not explicitly disabled in chained runners | `accept` | Added intake orchestration flags (`ONLINE_COMMIT_SCAN_AUTO`, harvest/snapshot toggles) and disabled hidden duplicates in final-stage/release-prep/snapshot callers | `ONLINE_INTAKE_FETCH=0 ONLINE_RUN_HARVEST=0 bash ci/reverse/online-intake.sh`, `bash ci/validation/run-final-stage-gates.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-28` |
| `D36` | `turnip-adrenotools-global-slice-0002` | A dedicated `0002` Turnip/Adrenotools restructure slice should isolate high-impact UI/control-plane refactor from consolidated mainline | `ci/winlator/patches/0002-turnip-lane-global-adrenotools-restructure.patch`, `ci/winlator/patch-batch-plan.tsv`, `ci/winlator/patches/README.md` | Temporary multi-patch expansion can violate old one-patch assumptions in strict policy checks and docs | `accept` | Added phase-window support for `0001..0010`, updated patch docs, and relaxed URC from “exactly one patch” to “contiguous sequence with `0001` anchor” | `bash ci/winlator/check-patch-stack.sh <src>`, `bash ci/winlator/list-patch-phases.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-28` |
| `D37` | `x11-turnip-dxvk-upscaler-runtime-matrix-0004-0010` | X11-first graphics launch should use deterministic DX route + upscaler matrix + capability envelope (including ARM64EC NVAPI gating) across Wine/Proton lanes | `ci/winlator/patches/0004-upscaler-adrenotools-control-plane-x11-bind.patch`, `ci/winlator/patches/0005-upscaler-dxvk-proton-fsr-x11-turnip-runtime-matrix.patch`, `ci/winlator/patches/0006-upscaler-x11-turnip-dx-all-directs-memory-policy.patch`, `ci/winlator/patches/0007-upscaler-module-forensics-dx8assist-contract.patch`, `ci/winlator/patches/0008-upscaler-dx-policy-order-and-artifact-sources.patch`, `ci/winlator/patches/0009-launch-graphics-packet-dx-upscaler-x11-turnip-bundle.patch`, `ci/winlator/patches/0010-dxvk-capability-envelope-proton-fsr-gate-upscaler-matrix.patch`, `docs/UNIFIED_RUNTIME_CONTRACT.md` | Aggressive matrix expansion can create contradictory env/forensic states if order is not fixed across runtime and launcher paths | `accept` | Added DX requested/effective map, policy-order marker, Proton FSR DXVK-stack gate, NVAPI requested/effective+arch markers, and unified launch packet forwarding | `WINLATOR_PATCH_FROM=0001 WINLATOR_PATCH_TO=0010 bash ci/winlator/check-patch-stack.sh <src>`, `bash ci/winlator/run-reflective-audits.sh`, `bash ci/validation/run-final-stage-gates.sh` | `Ae.solator` | `2026-02-28` |
| `D38` | `ae-solator-runtime-distribution-contract` | Runtime launch telemetry should explicitly mark distribution identity (`ae.solator`) to keep forensic parity across wine/proton flavors | `docs/UNIFIED_RUNTIME_CONTRACT.md`, `ci/winlator/patches/0010-dxvk-capability-envelope-proton-fsr-gate-upscaler-matrix.patch`, `ci/validation/check-urc-mainline-policy.sh` | Distribution marker adds another invariant that can break older logs if not propagated through both runtime packet and launcher submit events | `accept` | Added `AERO_RUNTIME_DISTRIBUTION=ae.solator` and propagated marker into launch packet + launcher forensic payload to keep runtime-flavor/distribution correlation deterministic | `bash ci/winlator/run-reflective-audits.sh`, `bash ci/validation/check-urc-mainline-policy.sh`, `bash ci/validation/run-final-stage-gates.sh` | `Ae.solator` | `2026-02-28` |
| `D39` | `runtime-library-conflict-snapshot-contract` | Runtime should emit deterministic library conflict snapshots (with reproducible fingerprint) for NVAPI/FSR/layout/DX stack disagreements so fixes can be routed without guesswork | `ci/winlator/patches/0010-dxvk-capability-envelope-proton-fsr-gate-upscaler-matrix.patch`, `docs/UNIFIED_RUNTIME_CONTRACT.md`, `ci/validation/check-urc-mainline-policy.sh` | Conflict signals can become noisy if policy expands; mitigated by stable marker names + conflict SHA fingerprint + launcher packet propagation | `accept` | Added `AERO_LIBRARY_CONFLICT_*` markers, `RUNTIME_LIBRARY_CONFLICT_SNAPSHOT` and `RUNTIME_LIBRARY_CONFLICT_DETECTED` events, and packet/launcher telemetry fields for reproducible debugging | `WINLATOR_PATCH_FROM=0001 WINLATOR_PATCH_TO=0010 bash ci/winlator/check-patch-stack.sh <src>`, `bash ci/winlator/run-reflective-audits.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-28` |
| `D40` | `strict-runtime-subsystem-logging-contract` | Runtime should hard-bind logging coverage for all embedded subsystems (X11/Turnip/DXVK/VKD3D/FEX/Box/loader/layout/adrenotools) so any missing telemetry becomes a first-class conflict | `ci/winlator/patches/0010-dxvk-capability-envelope-proton-fsr-gate-upscaler-matrix.patch`, `docs/UNIFIED_RUNTIME_CONTRACT.md`, `ci/validation/check-urc-mainline-policy.sh`, `docs/HARVARD_RUNTIME_CONFLICT_BOARD.md` | Strict coverage can raise conflict volume on transitional layouts; mitigated with reproducible SHA fingerprints (`subsystems/component/logging_coverage`) and explicit component-level conflict events | `accept` | Added strict subsystem envelope markers (`AERO_RUNTIME_SUBSYSTEMS*`, `AERO_LIBRARY_COMPONENT_STREAM*`, `AERO_RUNTIME_LOGGING_*`), events (`RUNTIME_SUBSYSTEM_SNAPSHOT`, `RUNTIME_LOGGING_CONTRACT_SNAPSHOT`, `RUNTIME_LIBRARY_COMPONENT_SIGNAL`, `RUNTIME_LIBRARY_COMPONENT_CONFLICT`), launcher propagation, and new conflict gates for missing coverage | `WINLATOR_PATCH_FROM=0001 WINLATOR_PATCH_TO=0010 bash ci/winlator/check-patch-stack.sh <src>`, `bash ci/winlator/validate-patch-sequence.sh ci/winlator/patches`, `bash ci/winlator/run-reflective-audits.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-28` |
| `D41` | `adb-conflict-contour-runtime-logging-bind` | Device forensic runs should classify strict runtime subsystem logging contour from adb captures (not only launch mismatch) so missing envelope events/coverage gaps fail fast with patch hints | `ci/winlator/forensic-adb-complete-matrix.sh`, `ci/winlator/forensic-runtime-conflict-contour.py`, `ci/winlator/forensic-adb-runtime-contract.sh`, `ci/winlator/forensic-adb-harvard-suite.sh`, `docs/ADB_HARVARD_DEVICE_FORENSICS.md`, `ci/validation/check-urc-mainline-policy.sh` | Strict contour gates can fail transitional devices that still emit partial telemetry; default threshold remains explicit (`off`) and can be raised per run (`medium/high`) | `accept` | Added per-scenario adb contour artifacts (`logcat-runtime-conflict-contour.txt`, `runtime-conflict-contour.summary.txt`), suite-level contour matrix (`runtime-conflict-contour.{tsv,md,json,summary.txt}`), and severity gate `WLT_FAIL_ON_CONFLICT_SEVERITY_AT_OR_ABOVE` with URC policy lock | `python3 -m py_compile ci/winlator/forensic-runtime-conflict-contour.py`, `bash -n ci/winlator/forensic-adb-complete-matrix.sh ci/winlator/forensic-adb-runtime-contract.sh ci/winlator/forensic-adb-harvard-suite.sh`, `bash ci/validation/check-urc-mainline-policy.sh` | `Ae.solator` | `2026-02-28` |

## Decision Codes

- `accept` - implementation validated and promoted to mainline.
- `rework` - concept is kept, implementation changes required.
- `reject` - not compatible with external-only mainline policy.

## Required Artifacts Per Row

- commit SHA(s)
- affected patch IDs
- forensic evidence path(s)
- explicit regression result (pass/fail)
